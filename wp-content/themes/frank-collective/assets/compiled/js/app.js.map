{"version":3,"sources":["animations.js","helpers.js","jquery.main.js","load-more.js","page.about.js","page.aboutv2.js","page.casestudy.js","page.common.js","page.contact.js","page.culture-v2.js","page.culture.js","page.home.js","page.team.js","page.work-v2.js","page.work.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzpBA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzCA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["$.fn.isInViewportWithOffset = function(scrollTop, scrollBottom, _offset, log) {\n    var el = jQuery(this);\n    var elementTop = el.offset().top;\n    var elementBottom = elementTop + el.outerHeight();\n    var offset = frank.cache.clientHeight * _offset;\n    var viewportTop = scrollTop + offset;\n    var viewportBottom = scrollBottom - offset;\n    if (log) {\n        console.clear();\n        console.log('elementTop', elementTop, 'viewportTop', viewportTop);\n        console.log('elementBottom', elementBottom, 'viewportBottom', viewportBottom);\n        console.log('offset', offset);\n        if (elementBottom < viewportBottom && elementTop > viewportTop) {\n            console.log('Appeared');\n        }\n    }\n    // return viewportBottom > elementTop && viewportTop < elementBottom;\n    return viewportBottom > elementTop;\n};\n\nwindow.frank = window.frank || {};\n\nfrank = {\n    loadFallback: false,\n    currentPage: false,\n    loadedDom: false,\n    pages: [],\n    isPageTransition: false,\n    mainController: new ScrollMagic.Controller(),\n    easeBezier: new Ease(BezierEasing(.215, .61, .355, 1)),\n    cache: {\n        $html: $('html'),\n        $body: $(document.body),\n        $window: $(window),\n        $main: $('#main'),\n        $footer: $('#footer'),\n        $header: $('#header'),\n        $rootContainer: $('#main'),\n        $preloaderOverlay: $('#preloader_overlay')\n    },\n    animations: {\n        latestKnownScrollY: 0,\n        oldScrollY: 0,\n        ticking: false,\n        preventAppearingAnimation: false,\n    }\n};\n\nfrank.animations.requestTick = function() {\n    if (!this.ticking) {\n        requestAnimationFrame(frank.animations.update);\n    }\n    this.ticking = true;\n};\nfrank.animations.init = function() {\n    frank.cache.$window\n        // .off('scroll', this.onScroll)\n        .on('scroll', this.onScroll).scroll();\n\n    frank.cache.$window\n        // .off('resize', this.onResize)\n        .on('resize', this.onResize);\n\n};\nfrank.animations.initScrollNavDark = function() {\n    console.log('initSrollNavDark');\n    var progressNav = $('[data-nav-dark]'),\n        navSections = $('[data-dark]');\n    if (progressNav.length && navSections.length) {\n        this.navDark = {\n            nav: progressNav,\n            navItems: progressNav.find('li:not(.page-title)'),\n            sections: navSections\n        };\n        this.calcScrollNavDark();\n    } else {\n        progressNav.addClass('dark')\n    }\n\n    if (progressNav.length) {\n        this.navCase = {\n            nav: progressNav,\n            trigger: progressNav.next()\n        };\n        this.calcScrollNavCase();\n    }\n};\n\nfrank.animations.calcScrollNavDark = function() {\n    var self = this;\n    if (typeof this.navDark !== 'undefined') {\n        if (this.navDark.sections.length) {\n            this.navDark.sectionsBox = [];\n            this.navDark.sections.each(function() {\n                var el = $(this),\n                    box = {\n                        el: el,\n                        top: el.offset().top,\n                        height: el.outerHeight(),\n                        bottom: el.offset().top + el.outerHeight()\n                    };\n                self.navDark.sectionsBox.push(box);\n            });\n        }\n    }\n};\n\nfrank.animations.initScrollNav = function() {\n    var progressNav = $('[data-progress-nav]'),\n        navSections = $('[data-nav-section]');\n    if (progressNav.length && navSections.length) {\n        this.progressNav = {\n            nav: progressNav,\n            navItems: progressNav.find('li:not(.page-title)'),\n            sections: navSections\n        };\n        this.calcScrollNav();\n    }\n};\nfrank.animations.calcScrollNav = function() {\n    var self = this;\n    if (typeof this.progressNav !== 'undefined') {\n        if (this.progressNav.sections.length) {\n            this.progressNav.sectionsBox = [];\n            this.progressNav.sections.each(function() {\n                var el = $(this),\n                    box = {\n                        el: el,\n                        top: el.offset().top,\n                        height: el.outerHeight(),\n                        bottom: el.offset().top + el.outerHeight()\n                    };\n                self.progressNav.sectionsBox.push(box);\n            });\n        }\n    }\n};\n\nfrank.animations.calcScrollNavCase = function() {\n    if (typeof this.navCase !== 'undefined') {\n        if (this.navCase.trigger.length) {\n            var box = {\n                el: this.navCase.trigger,\n                top: this.navCase.trigger.offset().top,\n                height: this.navCase.trigger.outerHeight(),\n                bottom: this.navCase.trigger.offset().top + this.navCase.trigger.outerHeight()\n            };\n            this.navCase.triggerBox = box;\n        }\n    }\n};\n\nfrank.animations.onScroll = function() {\n    frank.animations.latestKnownScrollY = frank.cache.$window.scrollTop();\n    frank.animations.requestTick();\n};\nfrank.animations.onResize = function() {\n    frank.animations.calcScrollNav();\n    frank.animations.calcScrollNavDark();\n    frank.animations.calcScrollNavCase();\n};\nfrank.animations.update = function() {\n\n    frank.animations.ticking = false;\n    var scrollTop = frank.animations.latestKnownScrollY;\n    var scrollBottom = frank.animations.latestKnownScrollY + frank.cache.clientHeight;\n    var scrollMiddle = frank.animations.latestKnownScrollY + (frank.cache.clientHeight / 2);\n\n    if (scrollTop < $(window).height()) {\n        frank.cache.$header.addClass('on-top');\n    } else {\n        if (frank.cache.$header.hasClass('on-top')) {\n            frank.cache.$header.removeClass('on-top')\n        }\n    }\n\n    if (typeof frank.animations.progressNav !== 'undefined') {\n        if (typeof frank.animations.progressNav.sections !== 'undefined') {\n            var currentSection = 0;\n            for (var i = 0; i < frank.animations.progressNav.sections.length; i++) {\n                if (scrollMiddle > frank.animations.progressNav.sectionsBox[i].top) {\n                    currentSection = i;\n                }\n            }\n            frank.animations.progressNav.navItems.each(function(index) {\n                if (currentSection > 1) {\n                    var curNav = $(this);\n                    if (index < currentSection - 1) {\n                        curNav.addClass('hide');\n                    } else {\n                        curNav.removeClass('hide');\n                    }\n\n                } else {\n                    frank.animations.progressNav.navItems.removeClass('hide');\n                }\n            });\n            frank.animations.progressNav.navItems.removeClass('active');\n            frank.animations.progressNav.navItems.eq(currentSection).addClass('active');\n        }\n    }\n\n    if (typeof frank.animations.navDark !== 'undefined') {\n        if (typeof frank.animations.navDark.sections !== 'undefined') {\n            for (var i = 0; i < frank.animations.navDark.sections.length; i++) {\n                if (scrollTop >= frank.animations.navDark.sectionsBox[i].top && scrollTop <= frank.animations.navDark.sectionsBox[i].bottom) { // +30\n                    //frank.animations.navDark.nav.removeClass('dark')\n                    frank.cache.$header.removeClass('dark')\n                    if (frank.animations.navDark.nav.data('navDark') === 'main') {\n                        //frank.animations.navDark.nav.addClass('light-main')\n                        frank.cache.$header.addClass('light-main')\n                    }\n                    break;\n                } else {\n                    frank.animations.navDark.nav.addClass('dark')\n                    if (frank.animations.navDark.nav.data('navDark') === 'main') {\n                        //frank.animations.navDark.nav.removeClass('light-main')\n                        frank.cache.$header.removeClass('light-main')\n                    }\n                }\n            }\n        }\n    }\n\n    if (typeof frank.animations.navCase !== 'undefined') {\n        if (typeof frank.animations.navCase.triggerBox !== 'undefined') {\n            if (scrollTop >= frank.animations.navCase.triggerBox.bottom) {\n                frank.animations.navCase.nav.removeClass('nav-hidden');\n                frank.cache.$header.addClass('nav-hidden');\n            } else {\n                frank.animations.navCase.nav.addClass('nav-hidden');\n                frank.cache.$header.removeClass('nav-hidden');\n            }\n        }\n    }\n\n    /* Appearing Animations*/\n    if (!frank.isPageTransition) {\n        if (typeof frank.animations.appearingWork !== 'undefined' && frank.animations.appearingWork.length) {\n            frank.animations.appearingWork.not('.is-appeared').each(function(index, item) {\n                var el = $(item),\n                    appearOffset = (typeof el.data('appearOffset') !== 'undefined') ? el.data('appearOffset') : 0.05;\n                if (el.isInViewportWithOffset(scrollTop, scrollBottom, appearOffset)) {\n                    el.addClass('is-appeared');\n                }\n            });\n        }\n    }\n\n    if (!frank.animations.preventAppearingAnimation) {\n        if (typeof frank.animations.appearingBlocks !== 'undefined' && frank.animations.appearingBlocks.length) {\n            frank.animations.appearingBlocks.not('.is-appeared').each(function(index, item) {\n                var el = $(item),\n                    appearOffset = (typeof el.data('appearOffset') !== 'undefined') ? el.data('appearOffset') : 0.05;\n\n                if (el.isInViewportWithOffset(scrollTop, scrollBottom, appearOffset)) {\n                    el.addClass('is-appeared');\n                }\n            });\n        }\n\n        if (typeof frank.animations.appearingGroups !== 'undefined' && frank.animations.appearingGroups.length) {\n            frank.animations.appearingGroups.not('.is-appeared').each(function(index, item) {\n                var el = $(item),\n                    appearOffset = (typeof el.data('appearOffset') !== 'undefined') ? el.data('appearOffset') : 0.05;\n\n                if (el.isInViewportWithOffset(scrollTop, scrollBottom, appearOffset)) {\n                    el.addClass('is-appeared');\n                }\n            });\n        }\n\n        if (typeof frank.animations.appearingCommons !== 'undefined' && frank.animations.appearingCommons.length) {\n            frank.animations.appearingCommons.not('.is-appeared').each(function(index, item) {\n                var el = $(item),\n                    appearOffset = (typeof el.data('appearOffset') !== 'undefined') ? el.data('appearOffset') : 0.05;\n                if (el.isInViewportWithOffset(scrollTop, scrollBottom, appearOffset)) {\n                    el.addClass('is-appeared');\n                }\n            });\n        }\n    }\n    /* Appearing Animations END*/\n\n    /* Sticky Header */\n    if (frank.animations.latestKnownScrollY > frank.animations.oldScrollY) {\n        if (frank.animations.latestKnownScrollY > 100) {\n            frank.cache.$body.addClass('header-sticky');\n            if (frank.cache.$body.hasClass('header-visible')) {\n                frank.cache.$body.removeClass('header-visible');\n            }\n        }\n    } else {\n        if (frank.animations.latestKnownScrollY < frank.animations.oldScrollY) {\n            frank.cache.$body.addClass('header-sticky').addClass('header-visible');\n\n            if (frank.animations.latestKnownScrollY < 100) {\n                frank.cache.$body.removeClass('header-sticky header-visible');\n            }\n        }\n    }\n\n\n    frank.animations.oldScrollY = frank.animations.latestKnownScrollY;\n}\n\nfrank.preloadImages = function() {\n    if ($('[data-preload-image]').length > 0) {\n        var preloadImages = [];\n        $('[data-preload-image]').each(function() {\n            var imgUrl = $(this).data('preloadImage');\n            if (imgUrl !== '') {\n                preloadImages.push(imgUrl);\n            }\n        });\n        if (preloadImages.length) {\n            for (var i = 0; i < preloadImages.length; i++) {\n                var item = $('<div class=\"preload-image\" style=\"background-image: url(' + preloadImages[i] + ')\"></div>');\n\n                $('.section-culture').append(item);\n            }\n        }\n    }\n};\n\nfrank.onAjaxPageLoadClick = function(e) {\n    e.preventDefault();\n    if (frank.isPageTransition) {\n        return false;\n    }\n\n    frank.isPageTransition = true;\n\n    var el = $(this),\n        oldContainer = $('.root'),\n        transitionIn = el.data('transitionIn'),\n        transitionOut = el.data('transitionOut') ? el.data('transitionOut') : frank.cache.$rootContainer.find('.root').data('transitionOut'),\n        link = el.attr('href') ? el.attr('href') : el.data('link');\n    console.log('out animation', transitionOut);\n    if (typeof frank['ani_' + transitionOut] === 'function') {\n        Promise.all([frank['ani_' + transitionOut](el), frank.ajaxPageLoad(link)]).then(function() {\n            clearTimeout(frank.loadFallback);\n            window.scrollTo(0, 0);\n            var\n                $dom = $(frank.loadedDom),\n                newContainer = $dom.find('.root'),\n                newTitle = $dom.find('title');\n\n            newContainer\n                .css({\n                    'display': 'none'\n                })\n                .appendTo(frank.cache.$rootContainer);\n\n            var page_init = newContainer.data('pageInit'),\n                page_in = (transitionIn) ? transitionIn : newContainer.data('transitionIn');\n\n            // frank.currentPage = next_page_id;\n\n            if (typeof frank['ani_' + page_init] === 'function') {\n                frank['ani_' + page_init](newContainer);\n            }\n\n            oldContainer.css({\n                'display': 'none'\n            });\n\n            newContainer\n                .css({\n                    'display': 'block'\n                });\n\n            oldContainer.remove();\n            frank.cache.$body.removeClass('is-loading');\n\n            if (typeof frank['ani_' + page_in] === 'function') {\n                frank['ani_' + page_in](newContainer);\n            }\n\n            frank.isPageTransition = false;\n            history.pushState({}, newTitle, link);\n        });\n\n    }\n};\n\nfrank.initAjaxPageLoad = function() {\n    $('#main')\n        .off('click', '.ajax-load', frank.onAjaxPageLoadClick)\n        .on('click', '.ajax-load', frank.onAjaxPageLoadClick);\n};\n\nfrank.ajaxPageLoad = function(linkUrl) {\n    return new Promise(function(resolve, reject) {\n        jQuery.get(linkUrl, function(data) {\n            frank.loadedDom = data;\n            var assets = $(data).find('.ajax-preload-assets');\n            var backgrounds = $(data).find('[data-ajax-preload-assets]');\n\n            frank.loadFallback = setTimeout(function() {\n                window.location.href = linkUrl;\n            }, 3000);\n\n            if (!assets.length && !backgrounds.length) {\n                console.log('resolve no assets')\n                resolve();\n            }\n            if (assets.length) {\n                assets.get()[0].addEventListener('loadeddata', function() {\n                    console.log('resolve video loaded')\n                    resolve();\n                })\n            }\n            if (backgrounds.length) {\n                var image = new Image();\n                image.onload = function() {\n                    console.log('resolve image loaded')\n                    resolve();\n                };\n                image.onerror = function() {\n                    resolve();\n                };\n                image.src = assets.eq(0).data('ajax-preload-assets');\n            }\n        });\n    });\n};\n\nfrank.init = function() {\n    this.preloadImages();\n    this.initResize();\n    this.animations.init();\n};\n\nfrank.initUI = function() {\n    this.initAjaxPageLoad();\n    this.initSliders();\n    this.initBigHeader();\n    this.initAppearAnimation();\n    this.initContactCTA();\n    this.initMobileVideos();\n};\n\nfrank.initMobileVideos = function() {\n    $('.video-has-mobile').each(function() {\n        var video = $(this);\n        if (frank.cache.mediaWidth < 767) {\n            video.append('<source src=\"' + video.data('mobileVideoSrc') + '\" type=\"video/mp4\" >');\n        } else {\n            video.append('<source src=\"' + video.data('videoSrc') + '\" type=\"video/mp4\" >');\n        }\n    })\n};\n\nfrank.initResize = function() {\n    frank.cache.$window.on('resize', function() {\n        frank.cache.mediaWidth = window.innerWidth;\n        frank.cache.clientWidth = frank.cache.$window.width();\n        frank.cache.clientHeight = frank.cache.$window.height();\n    }).resize();\n};\n\nfrank.initContactCTA = function() {\n    var self = this;\n    $('.cta.contact-cta').on('click', function(e) {\n        e.preventDefault();\n        var el = $(this),\n            link = el.attr('href'),\n            offset = el.offset(),\n            elOffsetTop = offset.top - $(document).scrollTop(),\n            elOffsetLeft = offset.left - $(document).scrollLeft(),\n            elWidth = el.width(),\n            elHeight = el.height(),\n            ctaCase = $('.case-cta'),\n            content = $('.default-content'),\n            desc = el.find('p, h2');\n\n        var linker = $('<div/>')\n            .addClass('work-temp')\n            .css({\n                left: elOffsetLeft,\n                top: elOffsetTop,\n                width: elWidth,\n                height: elHeight,\n                zIndex: 99,\n                backgroundColor: '#CBEEF4'\n            });\n\n        $('.root').append(linker);\n\n        frank.cache.$header.addClass('nav-hidden');\n\n        el.css({\n            visibility: 'hidden'\n        });\n\n        new TimelineMax({\n                onComplete: function() {\n                    window.location.href = link;\n                }\n            })\n            .to(frank.cache.$footer, 0.4, { opacity: 0, y: 20, ease: Power1.easeOut }, 0)\n            .to(content, 0.4, { opacity: 0, y: -50, ease: Power1.easeOut }, 0)\n            .to(ctaCase, 0.4, { opacity: 0, x: 50, ease: Power1.easeOut }, 0)\n            .to(desc, 0.3, { opacity: 0, x: 50, ease: Power1.easeOut }, 0)\n            .to(linker, 0.7, { left: 0, top: 0, width: frank.cache.clientWidth, height: frank.cache.clientHeight, scale: 1.04, zIndex: 999, ease: Power0.easeNone }, 0);\n    });\n};\n\nfrank.initBigHeader = function() {\n    var self = this;\n    $('[data-big-header]').each(function() {\n        var el = $(this),\n            trigger = (parseFloat(el.data('offset')) >= 0) ? parseFloat(el.data('offset')) : 500,\n            delayAfter = (parseFloat(el.data('offset')) >= 0) ? parseFloat(el.data('offset')) : 300;\n        frank.animations.preventAppearingAnimation = true;\n        setTimeout(function() {\n            el.addClass('is-appeared');\n\n            setTimeout(function() {\n                frank.animations.preventAppearingAnimation = false;\n                frank.cache.$window.scroll();\n            }, delayAfter);\n        }, trigger);\n    });\n};\n\nfrank.initAppearAnimation = function() {\n    var self = this;\n\n    frank.animations.appearingWork = $('[data-work-item]');\n    frank.animations.appearingBlocks = $('[data-appear-block]');\n    frank.animations.appearingGroups = $('[data-appear-group]');\n    frank.animations.appearingCommons = $('[data-appear-text], [data-appear-text-group], [data-appear-fade-in], [data-med-header]');\n\n\n    if (frank.animations.appearingBlocks.length) {\n        frank.animations.appearingBlocks.each(function() {\n            var el = $(this),\n                delay = (parseFloat(el.data('animationDelay')) >= 0) ? parseFloat(el.data('animationDelay')) : 0.15;\n            el.find('> *').each(function(index) {\n                var item = $(this);\n                if (index > 0) {\n                    item\n                        .attr('data-transition-delay', (index * delay) + 's')\n                        .css({\n                            '-webkit-transition-delay': (index * delay) + 's',\n                            'transition-delay': (index * delay) + 's'\n                        });\n                }\n            });\n        });\n    }\n\n    if (frank.animations.appearingGroups.length) {\n        frank.animations.appearingGroups.each(function() {\n            var el = $(this),\n                initDelay = (parseFloat(el.data('animationInitDelay')) >= 0) ? parseFloat(el.data('animationInitDelay')) : 0,\n                delay = (parseFloat(el.data('animationDelay')) >= 0) ? parseFloat(el.data('animationDelay')) : 0.15;\n            el.find('[data-appear-group-item]').each(function(index) {\n                var item = $(this),\n                    delayVal = ((index * delay) + initDelay) + 's';\n                item\n                    .attr('data-transition-delay', delayVal)\n                    .css({\n                        'transition-delay': delayVal\n                    });\n            });\n        });\n    }\n\n    this.cache.$window.scroll();\n};\n\nfrank.initSliders = function() {\n    if ($('.slideshow-wrapper').length) {\n        $('.slideshow-wrapper').each(function() {\n            var wrapper = $(this),\n                caption = wrapper.find('.slideshow-title'),\n                slider = wrapper.find('.slideshow');\n\n            slider.on('afterChange', function(event, slick, currentSlide) {\n                var title = $(slick.$slides[currentSlide]).data('title');\n                if (title) {\n                    caption.html(title)\n                }\n            });\n\n            slider.slick({\n                arrows: true,\n                dots: true,\n                centerMode: false,\n                infinite: false,\n                dotsClass: 'custom-paging',\n                customPaging: function(slider, i) {\n                    return (i + 1) + ' of ' + slider.slideCount;\n                }\n            });\n        });\n    }\n}\n\nfrank.removeOverlay = function() {\n    this.cache.$preloaderOverlay.css({\n        display: 'none'\n    });\n};\n\nfrank.initScrollTo = function() {\n    var self = this;\n    this.mainController.scrollTo(function(target) {\n        TweenMax.to(window, 0.5, {\n            scrollTo: {\n                y: target, // scroll position of the target along y axis\n                autoKill: true // allows user to kill scroll action smoothly\n            },\n            ease: Cubic.easeInOut\n        });\n    });\n\n    $(document).on(\"click\", \"a[href^=\\\\#]\", function(e) {\n        var id = $(this).attr(\"href\");\n        if ($(id).length > 0) {\n            e.preventDefault();\n            self.mainController.scrollTo(id);\n        }\n    });\n};\n\njQuery(window).on('load', function($) {\n    initLayout();\n    initPages();\n});\n\n\nfunction initLayout() {\n    frank.init();\n    frank.initScrollTo();\n}\n\nfunction action(action, container) {\n    var operation = $(container).data(action);\n    if (typeof frank['ani_' + operation] === 'function') {\n        frank['ani_' + operation]($(container));\n    }\n}\n\nfunction initPages() {\n    var page_root = $('.root'),\n        next_page_id = page_root.data('pageId'),\n        page_init = page_root.data('pageInit'),\n        page_in = page_root.data('transitionIn'),\n        page_out = page_root.data('transitionOut');\n\n    frank.currentPage = next_page_id;\n\n    if (typeof frank['ani_' + page_init] === 'function') {\n        frank['ani_' + page_init](page_root);\n    }\n\n    if (typeof frank['ani_' + page_in] === 'function') {\n        frank['ani_' + page_in](page_root);\n    }\n\n    initRetinaCover();\n}","","jQuery(document).ready(function($) {\n    initMobileNav();\n    initBannerImg();\n    initLocationTab($);\n    initFilter($);\n    $(window).bind('popstate', function() {\n        window.location.href = window.location.href;\n    });\n});\n\nfunction initFilter($) {\n    if ($('[data-filter-work]').length) {\n        var controller = new ScrollMagic.Controller();\n        var scene = new ScrollMagic.Scene({\n                triggerElement: '#load-more-work', // starting scene, when reaching this element\n                triggerHook: 'onEnter',\n\n            })\n            .on('enter', function(event) {\n                if (event.scrollDirection == 'FORWARD') {\n                    loadMoreWorks();\n                }\n            })\n            .addTo(controller);\n\n\n        var\n            filterContentList = $('[data-filter-works-list]'),\n            filterDroper = $('[data-filter-work-drop]'),\n            loadMoreContainer = $('[data-loadmore-works]'),\n            loadMore = $('[data-loadmore-works] a')\n        serviceToggle = $('.filter-drop-service'),\n            industryToggle = $('.filter-drop-industry'),\n            serviceList = $('.filter-list-service'),\n            industryList = $('.filter-list-industry'),\n            clearFiltersLink = $('.clear-filters'),\n            featuredProjects = $('.featured-work');\n\n        function clearFilters() {\n            serviceList.hide();\n            industryList.hide();\n            industryToggle.removeClass('active');\n            serviceToggle.removeClass('active');\n            $('[data-filter-val]').removeClass('active');\n            updateFilter(1);\n        }\n\n        clearFiltersLink.on('click', function(e) {\n            clearFilters();\n        });\n        serviceToggle.on('click', function(e) {\n            e.preventDefault();\n            industryList.hide();\n            industryToggle.removeClass('active');\n            $(this).toggleClass('active');\n            serviceList.slideToggle(\"slow\");\n        });\n\n        industryToggle.on('click', function(e) {\n            e.preventDefault();\n            serviceList.hide();\n            serviceToggle.removeClass('active');\n            $(this).toggleClass('active');\n            industryList.slideToggle(\"slow\");\n        });\n\n        loadMore.on('click', function(e) {\n            e.preventDefault();\n            loadMoreWorks();\n            console.log('click load more');\n        });\n\n\n        filterDroper.on('click', '[data-filter-val]', function(e) {\n            e.preventDefault();\n            $('[data-filter-val]').not($(this)).removeClass('active');\n            $(this).toggleClass('active');\n            updateFilter(1);\n        });\n\n        function loadMoreWorks() {\n            var currentPage = filterContentList.attr('data-page') ? filterContentList.attr('data-page') : 1;\n            updateFilter(parseInt(currentPage) + 1);\n            console.log('load more work');\n        }\n\n        function updateFilter(_page) {\n            var selectedItems = [];\n            var selectedFilterServices = [];\n            var selectedFilterIndustry = [];\n            var selected = $('[data-filter-val]').filter('.active');\n            if (selected.length) {\n                selected.each(function() {\n                    selectedItems.push($(this).text());\n                    if ($(this).data('filterType') === 'industry') {\n                        selectedFilterIndustry.push($(this).data('filterVal'));\n                    }\n                    if ($(this).data('filterType') === 'service') {\n                        selectedFilterServices.push($(this).data('filterVal'));\n                    }\n                });\n                featuredProjects.hide();\n                clearFiltersLink.show();\n            } else {\n                featuredProjects.show();\n                clearFiltersLink.hide();\n            }\n            var page = (typeof _page !== 'undefined' && _page > 0) ? _page : 1;\n\n            var request = {\n                action: 'fetch_works',\n                page: page\n            };\n\n            if (selectedFilterServices.length) {\n                request.services = selectedFilterServices;\n            }\n\n            if (selectedFilterIndustry.length) {\n                request.industry = selectedFilterIndustry;\n            }\n\n            $.get('/wp-admin/admin-ajax.php',\n                request,\n                function(response) {\n                    if (response.status === 'success') {\n                        var parent = $('[data-filter-works-list]');\n                        parent.attr('data-page', page);\n                        if (parent.length) {\n                            parent.empty();\n                            parent.html(response.works);\n                        }\n\n                        $('.loading-spinner').css({\n                            display: 'none'\n                        });\n\n                        if (response.loadMore) {\n                            loadMoreContainer.show();\n                        } else {\n                            loadMoreContainer.hide();\n                        }\n                    }\n                });\n        }\n    }\n}\n\nfunction initLocationTab($) {\n    if ($('.locations-switcher').length) {\n        $('.locations-switcher .location-item').slice(1).css({\n            display: 'none'\n        });\n        $('.location-switcher-nav a').on('click', function(e) {\n            e.preventDefault();\n            var el = $(this),\n                target = el.data('href');\n            $('.locations-switcher .location-item').not($(target)).css({\n                display: 'none'\n            });\n            $(target).css({\n                display: 'block'\n            })\n        });\n    }\n}\n\nfunction initMobileNav() {\n    var navopener = jQuery('.nav-opener'),\n        navwrap = jQuery('.nav-pannel'),\n        links = navwrap.find('a:not(.hasdrop-a)'),\n        navactive = 'nav-active';\n\n    navopener.click(function(e) {\n        e.preventDefault();\n        jQuery('body').toggleClass(navactive);\n    });\n\n    links.click(function() {\n        jQuery('body').removeClass(navactive);\n    });\n\n    jQuery('html').on('click touchstart pointerdown MSPointerDown', function(e) {\n        var target = jQuery(e.target);\n        if (!target.closest(navopener).length && !target.closest(navwrap).length) {\n            jQuery('body').removeClass(navactive);\n        }\n    });\n}\n\n\n// Retina Cover\nfunction initRetinaCover() {\n    jQuery('.bg-stretch').retinaCover();\n}\n\nfunction initBannerImg() {\n    jQuery('.banner-office .bg-img').hide();\n    var activetab = jQuery('.banner-office-links .active a').attr('href');\n    jQuery(activetab).show();\n\n    jQuery('.banner-office-links a').click(function() {\n        jQuery('.banner-office-links li').removeClass('active');\n        jQuery(this).parent().addClass('active');\n        var currentTab = jQuery(this).attr('href');\n        jQuery('.banner-office .bg-img').fadeOut();\n        jQuery(currentTab).fadeIn();\n        return false;\n    });\n}","jQuery(document).ready(function($){\n\tjQuery('.btn-load-more-ajax a').on('click', function(event){\n        event.preventDefault();\n        frankLoadMore( jQuery(event.currentTarget) );\n    });\n\n    function frankLoadMore(btn) {\n        var contentTarget = btn.parent().data('target'),\n            appendTo = btn.parent().data('append-to'),\n            loadMore = btn.parent().data('load-more');\n\n        jQuery.get(btn.attr('href'), function(data) {\n            jQuery( appendTo ).append(jQuery(data).find( contentTarget ));\n            var nextBtn = jQuery(data).find( loadMore ).attr('href');\n            nextBtn ? btn.attr('href',nextBtn) : btn.parent().hide();\n        });\n    }\n});","frank.ani_about_init = function (root) {\n\n    var self = this;\n    this.pages['about'] = {\n        root: root,\n        controller: new ScrollMagic.Controller(),\n        content: root.find('.about-content'),\n        animatedBackground: root.find('.work-animated-background')\n    };\n\n    if(this.pages['about'].animatedBackground.length){\n        var trigger = $('.trigger-hide-background').length ? $('.trigger-hide-background').eq(0) : this.pages['about'].content;\n\n        console.log(trigger);\n        var timelineBackground = new TimelineMax()\n          .to(this.pages['about'].animatedBackground, 1, {backgroundColor: '#ffffff', ease: Power1.easeNone});\n\n        new ScrollMagic.Scene({\n            triggerElement: trigger,\n            triggerHook: 'onEnter',\n            duration: 300\n        })\n          .setTween(timelineBackground)\n          .addTo(self.pages['about'].controller);\n    }\n};\n\nfrank.ani_about_in = function (root) {\n    var self = this;\n    self.animations.initScrollNav();\n    self.animations.initScrollNavDark();\n    this.removeOverlay();\n    new TimelineMax({\n        onComplete: function () {\n        }\n    })\n      .to(this.cache.$header, 0.5, {opacity: 1, ease: Power1.easeOut}, 0)\n      // .staggerTo(this.pages['works'].works, 0.4, {opacity: 1, x: 0, visibility: 'visible', ease: Power1.easeOut}, 0.15, 0.3)\n      .to(this.cache.$footer, 0.4, {opacity: 1, y: 0, ease: Power1.easeOut}, \"-=0.4\", 0)//Expo.easeOut\n    ;\n    self.initUI();\n};","","frank.ani_case_study_init = function (root) {\n    var self = this;\n    this.pages['case'] = {\n        root: root,\n        controller: new ScrollMagic.Controller(),\n        nav: root.find('.header-case'),\n        hero: root.find('.case-hero'),\n        content: root.find('.case-study-content'),\n        banner: root.find('.case-hero-banner'),\n        bannerImage: root.find('.case-banner > *'),\n        animatedBackground: root.find('.work-animated-background'),\n        onResize: function (e) {\n\n        }\n    };\n\n    this.pages['case'].banner.addClass('expanded');\n\n    this.removeOverlay();\n\n    if(this.pages['case'].animatedBackground.length){\n        var timelineBackground = new TimelineMax()\n          .to(this.pages['case'].animatedBackground, 1, {backgroundColor: '#ffffff', ease: Power1.easeNone});\n\n        new ScrollMagic.Scene({\n            triggerElement: this.pages['case'].content,\n            triggerHook: 'onEnter',\n            duration: 300\n        })\n          .setTween(timelineBackground)\n          .addTo(self.pages['case'].controller);\n    }\n};\n\nfrank.ani_case_study_in = function (root) {\n    var self = this;\n\n    var overlay = $('.work-overlay');\n\n    var timeline = new TimelineMax();\n\n    if(overlay.length){\n        timeline.to(overlay, 0.6, {xPercent: -100,  ease: frank.easeBezier}, 0)\n    }\n    timeline.to(frank.cache.$footer, 0.4, {opacity: 1, y: 0, ease: Power1.easeOut});\n\n    setTimeout(function() {\n        self.pages['case'].banner.removeClass('expanded');\n        setTimeout(function() {\n            frank.cache.$header.removeClass('nav-hidden');\n            self.initUI();\n\n            self.animations.initScrollNav();\n            self.animations.initScrollNavDark();\n            if(overlay.length){\n                overlay.remove();\n            }\n        }, 900);\n    }, 500);\n};\n\n\n\nfrank.ani_related_case_out = function (el) {\n    return new Promise(function(resolve, reject) {\n        var\n          offset = el.offset(),\n          elOffsetTop = offset.top - $(document).scrollTop(),\n          elOffsetLeft = offset.left - $(document).scrollLeft(),\n          elWidth = el.width(),\n          elHeight = el.height(),\n          ctaContact = frank.pages['case'].root.find('.contact-cta'),\n          ctaBack = frank.pages['case'].root.find('.link-to-back'),\n          desc = el.find('p, h2');\n\n        var linker = $('<div/>')\n          .addClass('work-temp')\n          .css({\n              left: elOffsetLeft,\n              top: elOffsetTop,\n              width: elWidth,\n              height: elHeight,\n              zIndex: 99,\n              'background-image': 'url('+el.data('image')+')'\n          });\n\n        $('.root').append(linker);\n\n        var overlay = $('<div/>').addClass('work-overlay');\n\n        $('#wrapper').append(overlay);\n        TweenLite.set(overlay, {xPercent: 100, opacity: 1});\n\n        frank.cache.$header.addClass('nav-hidden');\n        $('.header-case').addClass('nav-hidden');\n\n        el.css({\n            visibility:'hidden'\n        });\n\n        new TimelineMax({\n            onComplete: function () {\n                resolve();\n            }\n        })\n          .to(frank.cache.$footer, 0.4, {opacity: 0, y: 20, ease: Power1.easeOut}, 0)\n          .to(ctaBack, 0.4, {opacity: 0, y: -50,  ease: Power1.easeOut}, 0)\n          .to(ctaContact, 0.4, {opacity: 0, x: -50,  ease: Power1.easeOut}, 0)\n          .to(desc, 0.3, {opacity: 0, x: 50,  ease: Power1.easeOut}, 0)\n          .to(linker, 0.7, {left: 0, top: 0, width: frank.cache.clientWidth, height: frank.cache.clientHeight, scale: 1.04, zIndex: 999, ease: Power0.easeNone}, \"-=0.5\")\n          .to(overlay, 0.6, {xPercent: 0,  ease: frank.easeBezier});\n    });\n};","frank.ani_careers_init = function (root) {\n    this.pages['careers'] = {\n        root: root,\n        controller: new ScrollMagic.Controller(),\n        // hero: root.find('.case-study-hero'),\n        // content: root.find('.case-study-content'),\n        cultureSection: root.find('.culture-section'),\n        teamSection: root.find('.team-section'),\n        // bannerImage: root.find('.banner > *'),\n        animatedBackground: root.find('.work-animated-background')\n    };\n\n    if(this.pages['careers'].animatedBackground.length){\n        var timelineBackground = new TimelineMax()\n          .to(this.pages['careers'].animatedBackground, 1, {backgroundColor: '#ffffff', ease: Power1.easeNone});\n\n        new ScrollMagic.Scene({\n            triggerElement: this.pages['careers'].teamSection,\n            triggerHook: 'onEnter',\n            duration: 300\n        })\n          .setTween(timelineBackground)\n          .addTo(this.pages['careers'].controller);\n    }\n};\n\nfrank.ani_careers_in = function (root) {\n    var self = this;\n    this.removeOverlay();\n    this.cache.$header.removeClass('nav-hidden');\n    new TimelineMax({\n        onComplete: function () {\n        }\n    })\n      .to(this.cache.$footer, 0.4, {opacity: 1, y: 0, ease: Power1.easeOut}, \"-=0.4\", 0)//Expo.easeOut\n    ;\n    self.initUI();\n};\n\nfrank.ani_archive_init = function (root) {\n    var self = this;\n    this.pages['archive'] = {\n        root: root,\n        controller: new ScrollMagic.Controller(),\n        works: root.find('.work-item')\n    };\n};\n\nfrank.ani_archive_in = function (root) {\n    var self = this;\n    this.removeOverlay();\n    self.animations.initScrollNav();\n    self.animations.initScrollNavDark();\n    this.cache.$header.removeClass('nav-hidden');\n    new TimelineMax({\n        onComplete: function () {\n        }\n    })\n      .to(this.cache.$footer, 0.4, {opacity: 1, y: 0, ease: Power1.easeOut}, \"-=0.4\", 0)//Expo.easeOut\n    ;\n    self.initUI();\n};\n\nfrank.ani_contact_cta_out = function (el) {\n    return new Promise(function(resolve, reject) {\n        var\n          offset = el.offset(),\n          elOffsetTop = offset.top - $(document).scrollTop(),\n          elOffsetLeft = offset.left - $(document).scrollLeft(),\n          elWidth = el.width(),\n          elHeight = el.height(),\n          ctaCase = $('.case-cta'),\n          content = $('.default-content'),\n          desc = el.find('p, h2');\n\n        var linker = $('<div/>')\n          .addClass('work-temp')\n          .css({\n              left: elOffsetLeft,\n              top: elOffsetTop,\n              width: elWidth,\n              height: elHeight,\n              zIndex: 99,\n              backgroundColor: '#CBEEF4'\n          });\n\n        $('.root').append(linker);\n\n        frank.cache.$header.addClass('nav-hidden');\n\n        el.css({\n            visibility:'hidden'\n        });\n\n        new TimelineMax({\n            onComplete: function () {\n                resolve();\n            }\n        })\n          .to(frank.cache.$footer, 0.4, {opacity: 0, y: 20, ease: Power1.easeOut}, 0)\n          .to(content, 0.4, {opacity: 0, y: -50,  ease: Power1.easeOut}, 0)\n          .to(ctaCase, 0.4, {opacity: 0, x: 50,  ease: Power1.easeOut}, 0)\n          .to(desc, 0.3, {opacity: 0, x: 50,  ease: Power1.easeOut}, 0)\n          .to(linker, 0.7, {left: 0, top: 0, width: frank.cache.clientWidth, height: frank.cache.clientHeight, scale: 1.04, zIndex: 999, ease: Power0.easeNone}, 0);\n    });\n};\n\nfrank.ani_archive_out = function (item) {\n    console.log('ARCHIVE OUT');\n    return new Promise(function(resolve, reject) {\n        var\n          el = item.find('.img-box'),\n          img = item.find('.inner-content'),\n          offset = img.offset(),\n          elOffsetTop = offset.top - $(document).scrollTop(),\n          elOffsetLeft = offset.left - $(document).scrollLeft(),\n          elWidth = el.width(),\n          elHeight = el.height(),\n          top = $('.top-row, .filter-drop'),\n          bottom = $('.full-btn, .contact-cta');\n\n\n        var linker = $('<div/>')\n          .addClass('work-temp')\n          .css({\n              left: elOffsetLeft,\n              top: elOffsetTop,\n              width: elWidth,\n              height: elHeight,\n              zIndex: 99,\n              'background-image': 'url('+el.data('image')+')'\n          });\n\n        $('.root').append(linker);\n        var overlay = $('<div/>').addClass('work-overlay');\n\n        $('#wrapper').append(overlay);\n        TweenLite.set(overlay, {xPercent: 100, opacity: 1});\n\n        frank.cache.$header.addClass('nav-hidden');\n\n        el.css({\n            visibility:'hidden'\n        });\n\n        new TimelineMax({\n            onComplete: function () {\n                resolve();\n            }\n        })\n          .to(frank.cache.$footer, 0.4, {opacity: 0, y: 20, ease: Power1.easeOut}, 0)\n          .to(top, 0.4, {opacity: 0, y: -50,  ease: Power1.easeOut}, 0)\n          .to(bottom, 0.4, {opacity: 0, y: 50,  ease: Power1.easeOut}, 0)\n          .to(linker, 0.7, {left: 0, top: 0, width: frank.cache.clientWidth, height: frank.cache.clientHeight, scale: 1.04, zIndex: 999, ease: Power0.easeNone}, 0)\n          .to(overlay, 0.6, {xPercent: 0,  ease: frank.easeBezier});\n    });\n};\n\nfrank.ani_default_init = function (root) {\n    this.pages['default'] = {\n        root: root,\n        controller: new ScrollMagic.Controller(),\n        animatedBackground: root.find('.work-animated-background')\n    };\n};\n\nfrank.ani_default_in = function (root) {\n    var self = this;\n    this.removeOverlay();\n    this.cache.$header.removeClass('nav-hidden');\n    new TimelineMax({\n        onComplete: function () {\n        }\n    })\n      .to(this.cache.$footer, 0.4, {opacity: 1, y: 0, ease: Power1.easeOut}, \"-=0.4\", 0)//Expo.easeOut\n    ;\n    self.initUI();\n};\n\nfrank.ani_articles_init = function (root) {\n    this.pages['articles'] = {\n        root: root,\n        controller: new ScrollMagic.Controller(),\n        animatedBackground: root.find('.work-animated-background')\n    };\n};\n\nfrank.ani_articles_in = function (root) {\n    var self = this;\n    this.removeOverlay();\n    this.cache.$header.removeClass('nav-hidden');\n    new TimelineMax({\n        onComplete: function () {\n        }\n    })\n      .to(this.cache.$footer, 0.4, {opacity: 1, y: 0, ease: Power1.easeOut}, \"-=0.4\", 0)//Expo.easeOut\n    ;\n    self.initUI();\n};","frank.ani_contact_init = function (root) {\n    this.pages['contact'] = {\n        root: root,\n        controller: new ScrollMagic.Controller(),\n        hero: root.find('.case-study-hero'),\n        content: root.find('.case-study-content'),\n        contactSection: root.find('.contact-section'),\n        officesSection: root.find('.offices-section'),\n        bannerImage: root.find('.banner > *'),\n        animatedBackground: root.find('.work-animated-background')\n    };\n};\n\nfrank.ani_contact_in = function (root) {\n    var self = this;\n    this.removeOverlay();\n    this.cache.$header.removeClass('nav-hidden');\n    new TimelineMax({\n        onComplete: function () {\n        }\n    })\n      // .to(this.pages['contact'].animatedBackground, 1.5, {backgroundColor: '#ffffff', ease: Power1.easeOut}, 0)\n      // .staggerTo(this.pages['works'].works, 0.4, {opacity: 1, x: 0, visibility: 'visible', ease: Power1.easeOut}, 0.15, 0.3)\n      .to(this.cache.$footer, 0.4, {opacity: 1, y: 0, ease: Power1.easeOut}, \"-=0.4\", 0)//Expo.easeOut\n    ;\n    self.initUI();\n};","frank.ani_culture_2_init = function (root) {\n  var self = this;\n  this.pages['culture'] = {\n      root: root,\n      // controller: new ScrollMagic.Controller(),\n  };\n\n  let desktopInitialized = false;\n\n  function init_culture_desktop_bg() {\n    if ($(window).width() > 1023) {\n      if (!desktopInitialized) {\n        $('.culture-item').each(function(){\n          var src = $(this).data('src');\n          $(this).attr('src', src);\n        });\n        desktopInitialized = true;\n        animate_culture_desktop_bg();      \n      }    \n    }\n  }\n\n  function animate_culture_desktop_bg() {\n    var col1Height = $('.column-1').height();\n    var col2Height = $('.column-2').height();\n\n\n    $('.column-1-inner').clone().appendTo(\".column-1\");\n    TweenMax.to( $(\".column-1\"), 60, \n        {\n         y: -( col1Height ), \n         ease: Linear.easeNone,\n         repeat: -1\n        }\n    );    \n    \n\n\n    $('.column-2-inner').clone().appendTo(\".column-2\");\n    TweenMax.to( $(\".column-2\"), 100, \n        {\n         y: -( col2Height ), \n         ease: Linear.easeNone,\n         repeat: -1\n        }\n    );      \n  }\n  \n  $(document).ready(function(){\n    init_culture_desktop_bg();\n  })\n\n  $(window).resize(function(){\n    init_culture_desktop_bg();\n  })\n\n\n\n\n\n\n};\n\nfrank.ani_culture_2_in = function (root) {\n  var self = this;\n  self.animations.initScrollNav();\n  self.animations.initScrollNavDark();  \n  this.removeOverlay();\n  self.cache.$header.removeClass('nav-hidden');\n  new TimelineMax({\n      onComplete: function () {\n      }\n  })\n\n    .to(this.cache.$footer, 0.4, {opacity: 1, y: 0, ease: Power1.easeOut}, \"-=0.4\", 0)//Expo.easeOut\n  ;\n  self.initUI();\n};\n","frank.ani_culture_init = function (root) {\n    var self = this;\n    this.pages['culture'] = {\n        root: root,\n        controller: new ScrollMagic.Controller(),\n        // hero: root.find('.case-study-hero'),\n        // content: root.find('.case-study-content'),\n        cultureSection: root.find('.culture-section'),\n        teamSection: root.find('.team-section'),\n        introSection: root.find('.team-section .intro'),\n        // bannerImage: root.find('.banner > *'),\n        animatedBackground: root.find('.work-animated-background')\n    };\n\n    if(this.pages['culture'].animatedBackground.length){\n        var timelineBackground = new TimelineMax()\n          .to(this.pages['culture'].animatedBackground, 1, {backgroundColor: '#ffffff', ease: Power1.easeNone});\n\n        new ScrollMagic.Scene({\n            triggerElement: this.pages['culture'].teamSection,\n            triggerHook: 'onEnter',\n            duration: 300\n        })\n          .setTween(timelineBackground)\n          .addTo(this.pages['culture'].controller);\n    }\n\n    $('.team-list a').on('click', function (e) {\n        e.preventDefault();\n        var el = $(this),\n          link = el.attr('href');\n        self.cache.$header.addClass('nav-hidden');\n        new TimelineMax({\n            onComplete: function () {\n                window.location.href = link;\n            }\n        })\n          .to(self.cache.$footer, 0.4, {opacity: 0, y: 20, ease: Power1.easeOut}, 0)\n          .to(self.pages['culture'].introSection, 0.4, {opacity: 0, x: -50,  ease: Power1.easeOut}, 0)\n          .to(self.pages['culture'].cultureSection, 0.4, {opacity: 0, x: -50,  ease: Power1.easeOut}, 0)\n          .staggerTo($('.team-item a'), 0.3, {opacity: 0, x: -50,  ease: Power1.easeNone}, 0.1, 0.1)\n    });\n};\n\nfrank.ani_culture_in = function (root) {\n    var self = this;\n    this.removeOverlay();\n    self.cache.$header.removeClass('nav-hidden');\n    new TimelineMax({\n        onComplete: function () {\n        }\n    })\n      // .to(this.pages['contact'].animatedBackground, 1.5, {backgroundColor: '#ffffff', ease: Power1.easeOut}, 0)\n      // .staggerTo(this.pages['works'].works, 0.4, {opacity: 1, x: 0, visibility: 'visible', ease: Power1.easeOut}, 0.15, 0.3)\n      .to(this.cache.$footer, 0.4, {opacity: 1, y: 0, ease: Power1.easeOut}, \"-=0.4\", 0)//Expo.easeOut\n    ;\n    self.initUI();\n};\n\n/*\nfrank.ani_bio_init = function (root) {\n    var self = this;\n    this.pages['bio'] = {\n        root: root,\n        contentLeft: root.find('.bio-content-left'),\n        contentRight: root.find('.bio-content-right'),\n        controller: new ScrollMagic.Controller(),\n        animatedBackground: root.find('.work-animated-background')\n    };\n    TweenLite.set(this.pages['bio'].animatedBackground, {xPercent: 100});\n    TweenLite.set(this.pages['bio'].contentLeft, {opacity:0, x: 100});\n    TweenLite.set(this.pages['bio'].contentRight, {opacity:0, x: 100});\n};\n\nfrank.ani_bio_in = function (root) {\n    var self = this;\n    this.removeOverlay();\n    new TimelineMax({\n        onComplete: function () {\n        }\n    })\n      .to(this.cache.$header, 0.5, {opacity: 1, ease: Power1.easeOut}, 0)\n      // .staggerTo(this.pages['works'].works, 0.4, {opacity: 1, x: 0, visibility: 'visible', ease: Power1.easeOut}, 0.15, 0.3)\n      .to(this.cache.$footer, 0.4, {opacity: 1, y: 0, ease: Power1.easeOut}, \"-=0.4\", 0)//Expo.easeOut\n      .to(this.pages['bio'].animatedBackground, 1, {xPercent: 0, ease: Power1.easeOut}, 0)\n      .to(this.pages['bio'].contentRight, 0.4, {opacity:1, x: 0, ease: Power1.easeOut}, 0.5)\n      .to(this.pages['bio'].contentLeft, 0.4, {opacity:1, x: 0, ease: Power1.easeOut}, 0.7)\n    ;\n    self.initUI();\n};\n*/","frank.ani_homepage_init = function(root) {\n    this.pages['homepage'] = {\n        root: root,\n        background: root.find('#homepage-background'),\n        nav: root.find('.nav-links'),\n        links: root.find('.nav-links a')\n    };\n    this.cache.$header.addClass('nav-hidden');\n    TweenLite.set(this.cache.$header, { opacity: 0 });\n    TweenLite.set(this.pages['homepage'].background, { opacity: 0 });\n    TweenLite.set(this.pages['homepage'].links, { opacity: 0, visibility: 'hidden' });\n};\n\nfrank.ani_homepage_in = function(root) {\n    this.removeOverlay();\n    this.cache.$header.removeClass('nav-hidden');\n    new TimelineMax()\n        .to(this.pages['homepage'].background, 0.4, { opacity: 1, ease: Power1.easeOut }, \"-=0.2\")\n        .staggerFromTo(this.pages['homepage'].links, 0.4, { opacity: 0, x: -40 }, { opacity: 1, x: 0, visibility: 'visible', ease: Power1.easeOut }, 0.15, \"-=0.2\")\n        .to(this.cache.$footer, 0.4, { opacity: 1, y: 0, ease: Power1.easeOut }, \"-=0.4\") //Expo.easeOut\n    ;\n};\n\nfrank.ani_homepage_out = function(root) {\n    this.cache.$header.addClass('nav-hidden');\n    new TimelineMax()\n        .to(this.pages['homepage'].background, 0.4, { opacity: 1, ease: Power1.easeOut }, \"-=0.2\")\n        .staggerTo(this.pages['homepage'].links, 0.4, { opacity: 0, x: -40, ease: Power1.easeOut }, 0.15, \"-=0.2\")\n        .to(this.cache.$footer, 0.4, { opacity: 0, y: 20, ease: Power1.easeOut }, \"-=0.4\") //Expo.easeOut\n    ;\n};\n\n$('.hp-slider').slick({\n    adaptiveHeight: false,\n    infinite: true,\n    slidesToShow: 1,\n    autoplay: true,\n    autoplaySpeed: 5000,\n    arrows: true,\n    dots: true,\n    pauseOnHover: false,\n    customPaging: function(slick, index) {\n        var currSlide = slick.$slides.get(index);\n        // add 'white' class to pagination when needed to match slide text choice; add numbers as pagination\n        for (var i = 0; i < currSlide.children.length; i++) {\n            if (currSlide.children[i].classList.contains('hp-slide-text-white')) {\n                $('.slick-dots').ready(function() {\n                    document.querySelector('.slick-dots').classList.add('white');\n                    document.querySelector('header').classList.add('hp-white-text');\n                    document.querySelector('.slick-next').classList.add('white');\n                    document.querySelector('.slick-prev').classList.add('white');\n                });\n            }\n        }\n        return '<span>' + (index + 1) + '</span>';\n    }\n});\n\n//change pagination color if necessary\n$('.hp-slider').on('beforeChange', function(event, slick, currentSlide, nextSlide) {\n    //use currentSlide (index) to get slide html element  \n    var nextSlide = slick.$slides.get(nextSlide);\n    if (nextSlide.querySelector('video')) {\n        // nextSlide.querySelector('video').pause();\n        nextSlide.querySelector('video').currentTime = 0;\n        nextSlide.querySelector('video').pause();\n    }\n\n    for (var i = 0; i < nextSlide.children.length; i++) {\n        if (!nextSlide.children[i].classList.contains('hp-slide-text-white')) {\n            document.querySelector('.slick-dots').classList.remove('white');\n            document.querySelector('.slick-next').classList.remove('white');\n            document.querySelector('.slick-prev').classList.remove('white');\n            document.querySelector('header').classList.remove('hp-white-text');\n        } else {\n            document.querySelector('.slick-dots').classList.add('white');\n            document.querySelector('.slick-next').classList.add('white');\n            document.querySelector('.slick-prev').classList.add('white');\n            document.querySelector('header').classList.add('hp-white-text');\n        }\n    }\n\n});\n//if video, play afterChange\n$('.hp-slider').on('afterChange', function(event, slick, currentSlide, nextSlide) {\n    //use currentSlide (index) to get slide html element  \n    var currSlide = slick.$slides.get(currentSlide);\n    if (currSlide.querySelector('video')) {\n        currSlide.querySelector('video').play();\n    }\n});\n\n$(document).ready(function() {\n    loadSlideAssets();\n});\n\n// if mobile, show mobile versions of slider img/video from CMS\n// show mobile img/vid div if .nav-opener display=block\nfunction loadSlideAssets() {\n\n    var mAssets = document.querySelectorAll('.mob-asset');\n    var dAssets = document.querySelectorAll('.dt-asset');\n\n    if ($('.nav-opener').css('display') == 'block') {\n        dAssets.forEach(asset => {\n            asset.style.display = 'none';\n            asset.setAttribute('src', '');\n        });\n\n        mAssets.forEach(asset => {\n            asset.setAttribute('src', asset.dataset.mobileAsset);\n        });\n\n    } else {\n\n        mAssets.forEach(asset => {\n            asset.style.display = 'none';\n            asset.setAttribute('src', '');\n        });\n\n        dAssets.forEach(asset => {\n            asset.setAttribute('src', asset.dataset.desktopAsset);\n        });\n\n    }\n\n    //TODO: on resize, remove all src first and redefine\n}","frank.ani_team_init = function (root) {\n  var self = this;\n  this.pages['team'] = {\n      root: root,\n      controller: new ScrollMagic.Controller(),\n      // hero: root.find('.case-study-hero'),\n      // content: root.find('.case-study-content'),\n      // cultureSection: root.find('.culture-section'),\n      teamSection: root.find('.team-section'),\n      introSection: root.find('.team-section .intro'),\n      // bannerImage: root.find('.banner > *'),\n      // animatedBackground: root.find('.work-animated-background')\n  };\n\n\n\n  $('.team-list a').on('click', function (e) {\n      e.preventDefault();\n      var el = $(this),\n        link = el.attr('href');\n      self.cache.$header.addClass('nav-hidden');\n      new TimelineMax({\n          onComplete: function () {\n              window.location.href = link;\n          }\n      })\n        .to(self.cache.$footer, 0.4, {opacity: 0, y: 20, ease: Power1.easeOut}, 0)\n        .to(self.pages['culture'].introSection, 0.4, {opacity: 0, x: -50,  ease: Power1.easeOut}, 0)\n        .to(self.pages['culture'].cultureSection, 0.4, {opacity: 0, x: -50,  ease: Power1.easeOut}, 0)\n        .staggerTo($('.team-item a'), 0.3, {opacity: 0, x: -50,  ease: Power1.easeNone}, 0.1, 0.1)\n  });\n};\n\nfrank.ani_team_in = function (root) {\n  var self = this;\n  this.removeOverlay();\n  self.cache.$header.removeClass('nav-hidden');\n  new TimelineMax({\n      onComplete: function () {\n      }\n  })\n    // .to(this.pages['contact'].animatedBackground, 1.5, {backgroundColor: '#ffffff', ease: Power1.easeOut}, 0)\n    // .staggerTo(this.pages['works'].works, 0.4, {opacity: 1, x: 0, visibility: 'visible', ease: Power1.easeOut}, 0.15, 0.3)\n    .to(this.cache.$footer, 0.4, {opacity: 1, y: 0, ease: Power1.easeOut}, \"-=0.4\", 0)//Expo.easeOut\n  ;\n  self.initUI();\n};\n\nfrank.ani_bio_init = function (root) {\n  var self = this;\n  this.pages['bio'] = {\n      root: root,\n      contentLeft: root.find('.bio-content-left'),\n      contentRight: root.find('.bio-content-right'),\n      controller: new ScrollMagic.Controller(),\n      animatedBackground: root.find('.work-animated-background')\n  };\n  TweenLite.set(this.pages['bio'].animatedBackground, {xPercent: 100});\n  TweenLite.set(this.pages['bio'].contentLeft, {opacity:0, x: 100});\n  TweenLite.set(this.pages['bio'].contentRight, {opacity:0, x: 100});\n};\n\nfrank.ani_bio_in = function (root) {\n  var self = this;\n  this.removeOverlay();\n  new TimelineMax({\n      onComplete: function () {\n      }\n  })\n    .to(this.cache.$header, 0.5, {opacity: 1, ease: Power1.easeOut}, 0)\n    // .staggerTo(this.pages['works'].works, 0.4, {opacity: 1, x: 0, visibility: 'visible', ease: Power1.easeOut}, 0.15, 0.3)\n    .to(this.cache.$footer, 0.4, {opacity: 1, y: 0, ease: Power1.easeOut}, \"-=0.4\", 0)//Expo.easeOut\n    .to(this.pages['bio'].animatedBackground, 1, {xPercent: 0, ease: Power1.easeOut}, 0)\n    .to(this.pages['bio'].contentRight, 0.4, {opacity:1, x: 0, ease: Power1.easeOut}, 0.5)\n    .to(this.pages['bio'].contentLeft, 0.4, {opacity:1, x: 0, ease: Power1.easeOut}, 0.7)\n  ;\n  self.initUI();\n};","frank.getWorkCardPosition = function(el) {\n    var item = $(el),\n        position = item.data('position');\n    if (position) {\n        var itemWidth = item.width(),\n            descWidth = item.find('.desc').width(),\n            imageWidth = itemWidth - descWidth,\n            imageResizedWidth = imageWidth * 0.75,\n            imageGap = (imageWidth - imageResizedWidth) / 4;\n        if (position === 'left') {\n            return -descWidth - imageGap;\n        } else {\n            return imageGap;\n        }\n    } else {\n        return 0;\n    }\n};\n\nfrank.getWorkCardDescPosition = function(el) {\n    var item = $(el),\n        position = item.data('position');\n\n    return (position === 'left') ? 400 : 200\n};\n\nfrank.ani_works_2_init = function(root) {\n    var self = this;\n    this.pages['works'] = {\n        root: root,\n        backgrounds: [],\n        works: root.find('.work-list .work-item'),\n        worksLeft: root.find('.work-list .work-item.position-left'),\n        worksRight: root.find('.work-list .work-item.position-right'),\n       // controller: new ScrollMagic.Controller(),\n        workSection: root.find('.work-section'),\n        animatedBackground: root.find('.work-animated-background'),\n        onResize: function(e) {\n            var workHeight = 0;\n            self.pages['works'].works.each(function() {\n                workHeight = Math.max(workHeight, $(this).outerHeight())\n            });\n            // artifacts sticking (height too large) when resizing browser up/down in size\n            // self.pages['works'].works.css({\n            //     height: workHeight\n            // });\n\n\n            var\n                workSection = root.find('.work-section'),\n                workSectionTopPostion = workSection.position().top,\n                spacerOriginal = (self.cache.clientHeight - workHeight) / 2,\n                spacerOriginalFirst = (self.cache.clientHeight - workHeight) / 3,\n                spacerOriginalScaled = (self.cache.clientHeight - workHeight * 0.75) / 2,\n                workPartialHeight = (self.cache.clientHeight - workHeight * 0.75) / 2,\n                workSectionAdjust = Math.ceil(spacerOriginalScaled - spacerOriginal);\n\n            self.pages['works'].works.each(function(index) {\n                var\n                    paddingTop = Math.max((index === 0) ? spacerOriginalFirst : spacerOriginal / 2.35 - workSectionAdjust, (index === 0) ? 60 : 30),\n                    paddingBottom = Math.max(spacerOriginal / 2.35 - workSectionAdjust, 30);\n\n                $(this).parents('.work-wrap').css({\n                    'padding-top': paddingTop,\n                    'padding-bottom': paddingBottom\n                });\n            });\n        }\n    };\n\n    this.pages['works'].works.each(function() {\n        var $this = $(this);\n        self.pages['works'].backgrounds.push($this.data('backgroundColor'));\n    });\n\n    this.pages['works'].timelines = [];\n\n    this.pages['works'].onResize();\n    window.addEventListener('resize', this.pages['works'].onResize);\n    TweenLite.set(this.cache.$footer, { opacity: 0, y: 20 });\n    TweenLite.set(this.pages['works'].worksLeft.slice(1), { opacity: 0, x: 50 });\n    TweenLite.set(this.pages['works'].worksRight, { opacity: 0, x: -50 });\n};\n\nfrank.ani_works_2_out = function(parent) {\n    return new Promise(function(resolve, reject) {\n        // var el = parent.find('.featured-project'),\n        var el = find('.view-case-study'),\n            offset = el.offset(),\n            elOffsetTop = offset.top - $(document).scrollTop(),\n            elOffsetLeft = offset.left - $(document).scrollLeft(),\n            elWidth = el.width(),\n            elHeight = el.height();\n        var linker = $('<div/>')\n            .addClass('work-temp')\n            .css({\n                left: elOffsetLeft,\n                top: elOffsetTop,\n                width: elWidth,\n                height: elHeight,\n                zIndex: 99,\n                'background-image': 'url(' + el.data('image') + ')'\n            });\n\n        $('.main').append(linker);\n\n        var overlay = $('<div/>').addClass('work-overlay');\n\n        $('#wrapper').append(overlay);\n        TweenLite.set(overlay, { xPercent: 100, opacity: 1 });\n\n        frank.cache.$header.addClass('nav-hidden');\n        el.css({\n            visibility: 'hidden'\n        });\n\n        new TimelineMax({\n                onComplete: function() {\n                    resolve();\n                }\n            })\n            .to(parent.parents('.work-list'), 0.7, { opacity: 0, ease: Power0.easeNone })\n            .to(linker, 0.7, { left: 0, top: 0, width: frank.cache.clientWidth, height: frank.cache.clientHeight, scale: 1.04, zIndex: 999, ease: Power0.easeNone }, \"-=0.5\")\n            .to(overlay, 0.6, { xPercent: 0, ease: frank.easeBezier });\n    });\n};\n\nfrank.ani_works_2_in = function(root) {\n    this.removeOverlay();\n    frank.cache.$header.removeClass('nav-hidden');\n    new TimelineMax()\n        .staggerTo(this.pages['works'].works, 0.4, { opacity: 1, x: 0, visibility: 'visible', ease: Power1.easeOut }, 0.15, 0.3)\n        .to(this.cache.$footer, 0.4, { opacity: 1, y: 0, ease: Power1.easeOut }, \"-=0.4\") //Expo.easeOut\n    ;\n    this.initUI();\n};\n\n// Scroll to top\n$(window).scroll(function() {\n    var height = $(window).scrollTop();\n    if (height > ($(window).height() * 2)) {\n        $('#scrollToTop').fadeIn();\n    } else {\n        $('#scrollToTop').fadeOut();\n    }\n});\n\n$(\"#scrollToTop a\").click(function(event) {\n    event.preventDefault();\n    $(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\n    return false;\n});","frank.getWorkCardPosition = function (el) {\n    var item = $(el),\n      position = item.data('position');\n    if(position){\n        var itemWidth = item.width(),\n          descWidth = item.find('.desc').width(),\n          imageWidth = itemWidth - descWidth,\n          imageResizedWidth = imageWidth * 0.75,\n          imageGap = (imageWidth - imageResizedWidth) / 4;\n        if(position === 'left'){\n            return -descWidth-imageGap;\n        } else {\n            return imageGap;\n        }\n    } else {\n        return 0;\n    }\n};\n\nfrank.getWorkCardDescPosition = function (el) {\n    var item = $(el),\n      position = item.data('position');\n\n    return (position === 'left') ? 400 : 200\n};\n\nfrank.ani_works_init = function (root) {\n    var self = this;\n    this.pages['works'] = {\n        root: root,\n        backgrounds: [],\n        works: root.find('.work-list .work-item'),\n        worksLeft: root.find('.work-list .work-item.position-left'),\n        worksRight: root.find('.work-list .work-item.position-right'),\n        controller: new ScrollMagic.Controller(),\n        workSection: root.find('.work-section'),\n        animatedBackground: root.find('.work-animated-background'),\n        onResize: function (e) {\n            var workHeight = 0;\n            self.pages['works'].works.each(function () {\n                workHeight = Math.max(workHeight, $(this).outerHeight())\n            });\n            // artifacts sticking (height too large) when resizing browser up/down in size\n            // self.pages['works'].works.css({\n            //     height: workHeight\n            // });\n\n\n            var\n              workSection = root.find('.work-section'),\n              workSectionTopPostion = workSection.position().top,\n              spacerOriginal = (self.cache.clientHeight - workHeight) / 2,\n              spacerOriginalFirst = (self.cache.clientHeight - workHeight) / 3,\n              spacerOriginalScaled = (self.cache.clientHeight - workHeight * 0.75) / 2,\n              workPartialHeight = (self.cache.clientHeight - workHeight * 0.75) / 2,\n              workSectionAdjust = Math.ceil(spacerOriginalScaled - spacerOriginal);\n\n            self.pages['works'].works.each(function (index) {\n                var\n                  paddingTop = Math.max((index === 0) ? spacerOriginalFirst : spacerOriginal / 2.35 - workSectionAdjust, (index === 0) ? 60 : 30),\n                  paddingBottom = Math.max(spacerOriginal / 2.35 - workSectionAdjust, 30);\n\n                $(this).parents('.work-wrap').css({\n                    'padding-top': paddingTop,\n                    'padding-bottom': paddingBottom\n                });\n            });\n        }\n    };\n\n    this.pages['works'].works.each(function () {\n        var $this = $(this);\n        self.pages['works'].backgrounds.push($this.data('backgroundColor'));\n    });\n\n    this.pages['works'].timelines = [];\n\n    this.pages['works'].onResize();\n    window.addEventListener('resize', this.pages['works'].onResize);\n    TweenLite.set(this.cache.$footer, {opacity: 0, y: 20});\n    TweenLite.set(this.pages['works'].worksLeft.slice(1), {opacity: 0, x: 50});\n    TweenLite.set(this.pages['works'].worksRight, {opacity: 0, x: -50});\n};\n\nfrank.ani_works_out = function (parent) {\n    return new Promise(function(resolve, reject) {\n        var el = parent.find('.featured-project'),\n          offset = el.offset(),\n          elOffsetTop = offset.top - $(document).scrollTop(),\n          elOffsetLeft = offset.left - $(document).scrollLeft(),\n          elWidth = el.width(),\n          elHeight = el.height();\n        var linker = $('<div/>')\n          .addClass('work-temp')\n          .css({\n              left: elOffsetLeft,\n              top: elOffsetTop,\n              width: elWidth,\n              height: elHeight,\n              zIndex: 99,\n              'background-image': 'url('+el.data('image')+')'\n          });\n\n        $('.main').append(linker);\n\n        var overlay = $('<div/>').addClass('work-overlay');\n\n        $('#wrapper').append(overlay);\n        TweenLite.set(overlay, {xPercent: 100, opacity: 1});\n\n        frank.cache.$header.addClass('nav-hidden');\n        el.css({\n            visibility:'hidden'\n        });\n\n        new TimelineMax({\n            onComplete: function () {\n                resolve();\n            }\n        })\n          .to(parent.parents('.work-list'), 0.7, {opacity: 0, ease: Power0.easeNone})\n          .to(linker, 0.7, {left: 0, top: 0, width: frank.cache.clientWidth, height: frank.cache.clientHeight, scale: 1.04, zIndex: 999, ease: Power0.easeNone}, \"-=0.5\")\n          .to(overlay, 0.6, {xPercent: 0,  ease: frank.easeBezier})\n        ;\n    });\n};\n\nfrank.ani_works_in = function (root) {\n    this.removeOverlay();\n    frank.cache.$header.removeClass('nav-hidden');\n    new TimelineMax()\n      .staggerTo(this.pages['works'].works, 0.4, {opacity: 1, x: 0, visibility: 'visible', ease: Power1.easeOut}, 0.15, 0.3)\n      .to(this.cache.$footer, 0.4, {opacity: 1, y: 0, ease: Power1.easeOut}, \"-=0.4\")//Expo.easeOut\n    ;\n    this.initUI();\n};\n"]}